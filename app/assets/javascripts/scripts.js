// Generated by CoffeeScript 1.3.3

$(function() {
  if ($("body").hasClass("pools-admin_dashboard")) {
    $(".entry-row").on("click", ".approve-entry", function(e) {
      $.ajax({
        url: "/pool-users/approve-entry",
        method: "POST",
        data: {
          entry_id: $(e.target).attr("data-entry-id")
        }
      });
      $(e.target).parents("tr").find("td.approval-mark").removeClass("unapproved").addClass("approved").text("✔");
      return $(e.target).parents("tr").find(".approve-entry").removeClass("approve-entry").addClass("remove-approval").text("Remove Approval");
    });
    return $(".entry-row").on("click", ".remove-approval", function(e) {
      $.ajax({
        url: "/pool-users/remove-approval",
        method: "POST",
        data: {
          entry_id: $(e.target).attr("data-entry-id")
        }
      });
      $(e.target).parents("tr").find("td.approval-mark").removeClass("approved").addClass("unapproved").text("✘");
      return $(e.target).parents("tr").find(".remove-approval").removeClass("remove-approval").addClass("approve-entry").text("Approve Entry");
    });
  }
});
